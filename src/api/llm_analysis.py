from fastapi import APIRouter
from src.llm.llm_services import getting_analysis_from_llm

router = APIRouter()

@router.post("/Generate_llm_response/")
async def Generate_llm_response():

    data = """
{'Question 1 -> How was your overall experience working with Netsmartz Group?\\nSelect one: 1 ☐ 2 ☐ 3 ☐ 4 ☐ 5 ☐\\n': np.float64(4.0), 'Question 2 -> What are the major reasons for your resignation?\\n(Provide details here)\\n': 'Role redundancy. Project no longer aligned for team', 'Question 3 -> Do you feel there is joy in working with Netsmartz Group?\\nYes ☐ No ☐\\n': 'Yes', 'Question 4 -> In your opinion, were you provided the essential tools and resources required to excel in your position?\\nYes ☐ No ☐\\n': 'Yes', 'Question 5 -> Do you feel there is any form of politics, backbiting, or power struggle in the organization?\\nYes ☐ No ☐\\n': 'No', 'Question 6 -> Did you get along well with your team members?\\nYes ☐ No ☐\\n': 'Yes', 'Question 7 -> Did you get along well with your reporting manager?\\nYes ☐ No ☐\\n': 'Yes', 'Question 8 -> Were you satisfied with your benefits, perks, and other incentives?\\nYes ☐ No ☐\\n': 'Yes', 'Question 9 -> Do you believe your work was adequately recognized and appreciated?\\nYes ☐ No ☐\\n': 'Yes', 'Question 10 -> Is there a culture of teamwork and cooperation within the organization?\\nYes ☐ No ☐\\n': 'Yes', 'Question 11 -> Have you ever experienced any discrimination or harassment while working in this organization?\\nYes ☐ No ☐\\n': 'No', 'Question 12 -> Do you think the company policies were adequate? If not, do you want to suggest changes to the company policy?\\n(Provide suggestions if any)\\n': 'All okay', 'Question 13 -> Any suggestions for improvements in your team or department?\\n(Provide suggestions here)\\n': nan, 'Question 14 -> Do you feel you were given sufficient training to perform well in your role? If not, how could it have been better?\\nYes ☐ No ☐\\n(Suggestions)\\n': 'Yes', 'Question 15 -> What did you enjoy the most about your job?\\n(Provide details here)\\n': 'The team camaraderie', 'Question 16 -> What did you dislike the most about your job?\\n(Provide details here)\\n': 'Nothing', 'Question 17 -> Do you have any concerns about the organization at large that you would like to share?\\n(Provide details here)\\n': 'no', 'Question 18 -> Is there any problem issue, in particular, you would like to mention?\\n(Provide details here)\\n': 'no', 'Question 19 -> Will you recommend Netsmartz to your friends and family for potential employment opportunities?\\nYes ☐ No ☐\\n': 'Yes', 'Question 20 -> Would you like to work with Netsmartz in the future?\\nYes ☐ No ☐\\n\\n\\n\\nFinancial Clearance:\\n': 'Yes', 'Question 21 -> Whether you have any pending loan amount to be paid. If yes, mention the amount:\\nYes ☐ No ☐ (Amount)\\n': nan, 'Question 22 -> Whether you have a pending Imprest account to be paid. If yes, mention the amount:\\nYes ☐ No ☐ (Amount)\\n': 'No', \"Question 23 -> Whether you have downloaded your past years' Form 16:\\nYes ☐ No ☐\\n\": 'Yes', 'Question 24 -> If applicable, whether you have submitted your Tax Saving proofs, if applicable in Peoplestrong.\\nYes ☐ No ☐\\n': 'No', 'Question 25 -> If applicable, whether you have submitted your Tax-Free Reimbursement components proofs as hard copies.\\nYes ☐ No ☐': 'No'}

"""
    json_response = getting_analysis_from_llm(data)

    return json_response